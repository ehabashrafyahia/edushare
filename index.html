<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù…Ù†Ø³Ù‚ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

<style>
body{
    font-family: "Cairo", Arial, sans-serif;
    background:#f4f6f9;
    padding:20px;
}

.container{
    max-width:900px;
    margin:auto;
}

textarea{
    width:100%;
    height:220px;
    padding:10px;
    font-size:16px;
    margin-bottom:15px;
    border: 1px solid #ccc;
    border-radius: 8px;
}

.actions {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
}

button{
    background:#0f172a;
    color:white;
    padding:12px 24px;
    border:none;
    cursor:pointer;
    font-size:16px;
    border-radius:6px;
    transition: 0.3s;
}

button:hover{
    background:#1e293b;
}

.btn-save {
    background: #059669; /* Ù„ÙˆÙ† Ø£Ø®Ø¶Ø± Ù„Ù„ØªÙ…ÙŠÙŠØ² */
}

.btn-save:hover {
    background: #047857;
}

.paper{
    background:white;
    padding:40px;
    box-shadow:0 0 15px rgba(0,0,0,0.1);
    border: 1px solid #ddd;
}

.header-table{
    width:100%;
    border-collapse:collapse;
    margin-bottom:20px;
    text-align:center;
}

.header-table td{
    border:1px solid black;
    padding:8px;
    font-weight:bold;
    font-size: 14px;
}

.title{
    text-align:center;
    font-size:24px;
    font-weight:bold;
    margin-bottom:25px;
    text-decoration: underline;
}

.content{
    line-height:2.2;
    font-size:19px;
}

.content b{
    font-weight:bold;
    color: #000;
}

@media print{
    button, textarea, .actions{
        display:none;
    }
    body{
        background:white;
        padding: 0;
    }
    .paper{
        box-shadow:none;
        border: none;
    }
}
</style>
</head>

<body>

<div class="container">

<h2>Ù…Ù†Ø³Ù‚ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ø§Ù„Ø°ÙƒÙŠ ğŸ“</h2>
<textarea id="inputText" placeholder="Ø¶Ø¹ Ù‡Ù†Ø§ Ù†Øµ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª..."></textarea>

<div class="actions">
    <button onclick="generatePaper()">ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ ÙˆØ±Ù‚Ø© Ù…Ù†Ø³Ù‚Ø©</button>
    <button id="saveBtn" class="btn-save" onclick="saveAsImage()" style="display:none;">Ø­ÙØ¸ ÙƒØµÙˆØ±Ø© PNG</button>
</div>

<div class="paper" id="output" style="display:none;">

<table class="header-table">
<tr>
<td>Ø§Ù„ÙØªØ±Ø©: .......................</td>
<td>Ø§Ù„ØªØ§Ø±ÙŠØ®: .......................</td>
<td>Ø§Ù„ÙØµÙ„: .......................</td>
<td>Ø±Ù‚Ù… Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: .......................</td>
</tr>
</table>

<div class="title">Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</div>

<div class="content" id="formattedContent"></div>

</div>

</div>

<script>
function generatePaper(){
    let text = document.getElementById("inputText").value;
    if(!text.trim()) { alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ Ø£ÙˆÙ„Ø§Ù‹"); return; }

    // ØªØ­ÙˆÙŠÙ„ Ø±Ø¤ÙˆØ³ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù„Ø¨ÙˆÙ„Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
    const keywords = [
        "Ø£ÙƒÙ…Ù„:", "Ø¨Ù… ØªÙØ³Ø±:", "Ø¯Ù„Ù„ Ø¹Ù„Ù‰ ØµØ­Ø© Ø§Ù„Ø¹Ø¨Ø§Ø±Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©:", 
        "Ø£Ø¹Ø¯ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¹Ø¨Ø§Ø±Ø© Ø¨Ø¹Ø¯ ØªØµÙˆÙŠØ¨ Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ø¹Ù„Ù…ÙŠ Ø¨Ù‡Ø§:", 
        "Ø§ÙƒØªØ¨ Ù†ØªÙŠØ¬Ø© ÙˆØ§Ø­Ø¯Ø© ØªØ±ØªØ¨Øª Ø¹Ù„Ù‰:", "Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©:", "Ù…Ø§ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ØªØ±ØªØ¨Ø© Ø¹Ù„Ù‰:"
    ];

    keywords.forEach(word => {
        let reg = new RegExp(word, "g");
        text = text.replace(reg, `<b>${word}</b>`);
    });

    let formatted = text.replace(/\n/g,"<br>");
    document.getElementById("formattedContent").innerHTML = formatted;
    
    // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ÙˆØ±Ù‚Ø© ÙˆØ²Ø± Ø§Ù„Ø­ÙØ¸
    document.getElementById("output").style.display = "block";
    document.getElementById("saveBtn").style.display = "inline-block";
    
    // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ù„Ø£Ø³ÙÙ„ Ù„Ø±Ø¤ÙŠØ© Ø§Ù„Ù†ØªÙŠØ¬Ø©
    window.scrollTo({ top: document.getElementById("output").offsetTop, behavior: 'smooth' });
}

function saveAsImage() {
    const element = document.getElementById("output");
    const saveBtn = document.getElementById("saveBtn");
    
    saveBtn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...";
    
    html2canvas(element, {
        scale: 2, // Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©
        useCORS: true,
        backgroundColor: "#ffffff"
    }).then(canvas => {
        const link = document.createElement('a');
        link.download = 'Ø§Ù„ØªÙ‚ÙŠÙŠÙ…-Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ.png';
        link.href = canvas.toDataURL("image/png");
        link.click();
        saveBtn.innerText = "Ø­ÙØ¸ ÙƒØµÙˆØ±Ø© PNG";
    });
}
</script>

</body>
</html>
